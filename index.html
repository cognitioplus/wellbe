<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Well-Be ‚Äì Your Journey Back to Source</title>
  <link rel="stylesheet" href="css/style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Hero Section -->
  <header class="hero">
    <div class="container">
      <h1>Be Well. Be Source.</h1>
      <p>Every mood you log is a step back to the Source ‚Äî and a leap forward for humanity.</p>
      <p>Join the <strong>One Billion Returning</strong> movement. Start your journey below.</p>
      <button onclick="startJourney()" class="cta-button">Begin Your Well-Be Journey</button>
    </div>
  </header>

  <!-- Mission Section -->
  <section class="mission">
    <div class="container">
      <h2>Your Healing Heals the World</h2>
      <p>
        Mental health has been relegated for too long ‚Äî in the Philippines, across Asia, and around the globe. 
        But now, the veil is lifting.
      </p>
      <p>
        You are not broken. You are <strong>remembering</strong>.
      </p>
      <p>
        Well-Be is your companion in this return. A simple, beautiful tool to track your emotions, design resilient habits, and reclaim your inner light.
      </p>
      <p>
        And when millions of us do this together, something extraordinary happens:
      </p>
      <ul>
        <li>Local governments see the data and finally fund mental health.</li>
        <li>Hospitals integrate emotional wellness into primary care.</li>
        <li>Communities stop asking "Are you crazy?" and start saying "How are you, really?"</li>
      </ul>
      <p>This is how <strong>one billion people return to Source</strong> ‚Äî not in a single event, but in a million quiet moments of courage.</p>
    </div>
  </section>

  <!-- Tools Section -->
  <section class="tools">
    <div class="container">
      <h2>Your Resilience Toolkit</h2>
      <div class="tool-card">
        <h3>üåà SMART Emotion Tracker</h3>
        <p>Log your mood in four colors ‚Äî Red, Yellow, Blue, Green ‚Äî and see your emotional rhythm unfold.</p>
        <a href="https://asilva777.github.io/Smart-Emotion-Tracker-and-Journal/" target="_blank" class="tool-link">Open Tracker</a>
      </div>
      <div class="tool-card">
        <h3>üõ†Ô∏è Resilient Habit Designer</h3>
        <p>Build habits that align your mind, body, and spirit ‚Äî for sleep, focus, and inner peace.</p>
        <a href="https://asilva777.github.io/resilient-habit-designer/" target="_blank" class="tool-link">Design Your Habit</a>
      </div>
      <div class="tool-card">
        <h3>üß≠ Resilient Navigator</h3>
        <p>Chart your resilience journey and see how far you‚Äôve come.</p>
        <a href="https://asilva777.github.io/Resilience-Navigator/" target="_blank" class="tool-link">Download Chart</a>
      </div>
    </div>
  </section>

  <!-- Quick Survey -->
  <section class="survey">
    <div class="container">
      <h2>Quick Well-Being Pulse Survey</h2>
      <p>Take a moment to check in with your emotional well-being. Your input helps us improve mental health support across Asia.</p>
      <p><em>It will only take 2 minutes.</em></p>
      <button onclick="startSurvey()" class="cta-button">Take the Survey</button>
    </div>
  </section>

  <!-- GROWTH Tribe & CarePoints -->
  <section class="community">
    <div class="container">
      <h2>Join the GROWTH Tribe</h2>
      <p>Every time you complete a journal entry or habit design, you earn <strong>CarePoints</strong> ‚Äî redeemable for counseling, training, and community leadership.</p>
      <p>Start your journey toward becoming a <strong>Resilience Guide</strong>.</p>
      <a href="https://preview-lcfyst0f--growth-support-wellness-1.deploypad.app/" target="_blank" class="cta-button">Join GROWTH Tribe</a>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="testimonials">
    <div class="container">
      <h2>What People Are Saying</h2>
      <blockquote>
        "This isn't just an app ‚Äî it's a movement. I finally feel seen."<br>
        <strong>‚Äî Maria, Teacher, Cebu</strong>
      </blockquote>
      <blockquote>
        "I used to hide my anxiety. Now I track it, understand it, and heal."<br>
        <strong>‚Äî Juan, OFW, Dubai</strong>
      </blockquote>
    </div>
  </section>

  <!-- Newsletter -->
  <section class="newsletter">
    <div class="container">
      <h2>Stay Connected</h2>
      <p>Don't miss the latest updates and exclusive content tailored just for you.</p>
      <form action="https://your-airtable-form-url" method="POST">
        <input type="email" name="email" placeholder="Your email" required>
        <button type="submit">Subscribe</button>
      </form>
      <p><small>We respect your privacy. Unsubscribe anytime.</small></p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>¬© 2025 Cognitio+ PH. All rights reserved.</p>
      <p>Built with <span style="color:#e74c3c;">‚ù§Ô∏è</span> for the Filipino people.</p>
      <p>
        <a href="https://personal-resilience.cognitio-plus.com">Personal Resilience: The Path to Oneness</a> | 
        <a href="https://cognitio-plus.aiwaapp.live/store">Store</a> | 
        <a href="https://m.me/1202787191563496">AI Chat</a>
      </p>
    </div>
  </footer>

  <script src="js/main.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script>
  // Initialize Supabase Client
  const supabaseUrl = 'https://isresrnchbbmydquqakq.supabase.co';
  const supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlzcmVzcm5jaGJibXlkcXVxYWtxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyNDkyMjgsImV4cCI6MjA2OTgyNTIyOH0.dfi3QvKECfXHl_L6chpu4-XsHzHidnQ4YhCXUxag5bk'; // 
  const supabase = supabase.createClient(supabaseUrl, supabaseAnonKey);

  // Function to log mood
  <!-- Yellow Mood Button -->
<button onclick="logMood('Yellow', 'Feeling hopeful today.', 72, 68)" 
        class="mood-button yellow">
  <span>üòä</span> Yellow
</button>

<!-- Red Mood Button -->
<button onclick="logMood('Red', 'Feeling stressed.', 60, 85)" 
        class="mood-button red">
  <span>üò†</span> Red
</button>

<!-- Blue Mood Button -->
<button onclick="logMood('Blue', 'Feeling sad.', 55, 75)" 
        class="mood-button blue">
  <span>üò¢</span> Blue
</button>

<!-- Green Mood Button -->
<button onclick="logMood('Green', 'Feeling calm.', 80, 40)" 
        class="mood-button green">
  <span>üòå</span> Green
</button>
  async function logMood(mood, journal, hrvScore, stressIndex) {
    try {
      const { error } = await supabase
        .from('wellbe_actions')
        .insert([
          {
            action: 'mood_logged',
            mood_quadrant: mood,
            journal_entry: journal,
            hrv_score: hrvScore,
            stress_index: stressIndex,
            timestamp: new Date().toISOString()
          }
        ]);
      
      if (error) {
        console.error("Save failed:", error);
        return false;
      }
      
      console.log("Mood logged successfully!");
      awardCarePoints(50, 'Mood Logged');
      return true;
    } catch (err) {
      console.error("Error logging mood:", err);
      return false;
    }
  }

  // Function to award CarePoints
  async function awardCarePoints(points, reason) {
    try {
      // Get current balance
      const { data: lastEntries, error: selectError } = await supabase
        .from('carepoints_log')
        .select('balance')
        .order('awarded_at', { ascending: false })
        .limit(1);

      if (selectError) {
        console.error("Error getting balance:", selectError);
        return;
      }

      const currentBalance = lastEntries && lastEntries.length > 0 ? lastEntries[0].balance : 0;
      const newBalance = currentBalance + points;

      // Insert new record
      const { error: insertError } = await supabase
        .from('carepoints_log')
        .insert([
          { 
            user_id: 'anonymous', 
            points, 
            reason, 
            balance: newBalance,
            awarded_at: new Date().toISOString()
          }
        ]);

      if (insertError) {
        console.error("Error awarding CarePoints:", insertError);
      } else {
        console.log(`Awarded ${points} CarePoints. New balance: ${newBalance}`);
        
        // Optional: Show notification to user
        if (typeof showToast === 'function') {
          showToast(`+${points} CarePoints! Keep going!`, 'success');
        }
      }
    } catch (err) {
      console.error("Error in awardCarePoints:", err);
    }
  }

  // Optional: Attach to window for debugging
  window.logMood = logMood;
  window.awardCarePoints = awardCarePoints;
</script>
</body>
</html>
